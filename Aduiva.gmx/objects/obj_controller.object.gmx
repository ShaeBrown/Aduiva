<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-9</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Variables
ii=0;
global.armycount=60; 
transfer=false;
u=0;
army_count=60  //how many army players are available?
global.num=0;  //change to an array?
global.marker=false;                                                //show marker?
global.grid=mp_grid_create(0,0,room_width/16,room_height/16,16,16); //create grid
mp_grid_add_instances(global.grid,obj_solid,1); //add solids to pathfinding gid
global.grouppath=ds_list_create();
global.commui=false;
global.count=0;
global.dx=0
global.dy=0
global.selection="inv";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.count&gt;0 {
    instance_create(obj_commanderhut.x,obj_commanderhut.y + 20,obj_armyleader);
    global.count--
    alarm[1]=30;
}
else {
    global.dx=0
    global.dy=0
    global.armycount-=global.count;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Tranfer from Gatherer to Crafter
var exists,done
exists=false;
done=false;
if transfer=true {
if (u=20) {                                               //if the text rises 20 pixels
        u=0;
        if ii&lt;array_height_2d(global.gathinv)-1 {
        if exists=false {
        for (var j=0;j&lt;4;j++) {
            for (var i=0;i&lt;9;i++) {
                
                    if ds_grid_value_exists(global.crafitem,i,j,i,j,global.gathinv[ii,0]) {
                        global.crafamount[#i,j]+=global.gathinv[ii,1];
                        exists=true; 
                    }
                    if exists=true break;
                }
            if exists=true break;
            }
        }
                if exists=false {
                for (var j=0;j&lt;4;j++) {
                     for (var i=0;i&lt;9;i++) {
                            if ds_grid_value_exists(global.crafitem,i,j,i,j,0) {
                                global.crafitem[#i,j]=global.gathinv[ii,0];
                                global.crafamount[#i,j]+=global.gathinv[ii,1];
                                done=true;
                        }
                        if done=true break;
                    }
                if done=true break
                }
            }
        
                    
             //transfer
            global.gathinv[ii,1]=0;
            ii++;
            alarm[0]=2;   
        }
        else if ii=array_height_2d(global.gathinv)-1 { 
            if exists=false{ 
            for (var j=0;j&lt;4;j++) {
                for (var i=0;i&lt;9;i++) {
                    if ds_grid_value_exists(global.crafitem,i,j,i,j,global.gathinv[ii,0]) {
                        global.crafamount[#i,j]+=global.gathinv[ii,1];
                        exists=true; 
                    }
                if exists=true break;
                }
            if exists=true break;
            }
        }
                if exists=false {
                for (var j=0;j&lt;4;j++) {
                     for (var i=0;i&lt;9;i++) {
                        if ds_grid_value_exists(global.crafitem,i,j,i,j,0) {
                                global.crafitem[#i,j]=global.gathinv[ii,0];
                                global.crafamount[#i,j]+=global.gathinv[ii,1]; 
                                done=true;
                        }
                        if done=true break;
                    }
                if done=true break;
                }   
             }
            global.gathinv[ii,1]=0;                       //set to 0
            transfer=false;                               //stop transfer
            ii=0;                                         //next resource
          
        }
                                   
    }

else {
    u+=1;                                       //rise the text
    alarm[0]=2
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="57">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[1]=1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Create minions in gui
var i;
 for (i=1;i&lt;=global.armycount;i+=1) {
             instance_create(view_xview[2]+25+((i mod 20)*25),view_yview[2]+25+((i div 20))*25,obj_armygui);  //loop that draws number of army in columns and rows
             global.num=i;
  }
  randomize();

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>mp_grid_destroy(global.grid);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw Comm &amp;&amp; Gath UI
if (view_current=2)  {
    if global.commui=true {
        draw_set_alpha(0.1);
        draw_rectangle_color(view_xview[2],view_yview[2],view_xview[2]+640,view_yview[2]+100,c_black,c_black,c_black,c_black,0); //draw armycount gui
        draw_set_alpha(1);     
}
}

if global.gathshowinv=1 {
    if (view_current==0) {
        draw_set_halign ( fa_left )
        for (var i=0;i+1&lt;=array_height_2d(global.gathinv);i++) {
            draw_sprite_stretched(global.gathinv[i,0],0,view_xview[0]+10,view_yview[0]+25+i*30,32,32)
            draw_text(view_xview[0]+60,view_yview[0]+25+i*32,global.gathinv[i,1])
        }
        draw_set_alpha(0.1)
        draw_rectangle_colour(view_xview[0],view_yview[0],view_xview[0]+100,view_yview[0]+view_hview[0],"","","","",0);
        draw_set_alpha(1);
    }
}

if transfer=true {
    if ii&lt;array_height_2d(global.gathinv) {
        draw_set_halign ( fa_left )
        if global.gathinv[ii,1]&gt;0 {
            
            if view_current==0 {
            draw_text(obj_crafterhut.x+60,obj_crafterhut.y-u,"+" + string(global.gathinv[ii,1]));
            draw_sprite_stretched(global.gathinv[ii,0],0,obj_crafterhut.x+100,obj_crafterhut.y-u,16,16)
            }
            draw_sprite_stretched(global.gathinv[ii,0],0,view_xview[3]+50,view_yview[3]+25,16,16);
            draw_text(view_xview[3]+70,view_yview[3]+25,"+" + string(global.gathinv[ii,1]))
        }
        else {
            ii+=1;
            }
        }
    else {     
        ii=0;
        transfer=false;
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Furnace GUI
if global.furnaceui=true {
    draw_set_halign ( fa_right );
    draw_enable_alphablend(false);
    draw_sprite(spr_ui_furnace,0,view_xview[3],view_yview[3]);
    draw_enable_alphablend(true);
    var spaceh,spacev,height,length,indentv,indenth,dif;
    indenth=14;
    indentv=14;
    spaceh=55;
    spacev=52;
    length=4;
    height=9;
    dif=36;
    for (var i=0;i&lt;9;i++) {
        for (var j=0;j&lt;4;j++) {
            if global.crafamount[#i,j]&gt;0 {
                draw_sprite_stretched(global.crafitem[#i,j],0,view_xview[3]+indenth+j*spaceh,view_yview[3]+indentv+i*spacev,32,32)
                draw_text_colour(view_xview[3]+indenth+dif+j*spaceh,view_yview[3]+indentv+dif-8+i*spacev,global.crafamount[#i,j],c_white,c_white,c_white,"",1); 
            }
        }
    }
    if global.ignite=true {
        draw_sprite(spr_fire,-1,view_xview[3]+367,view_yview[3]+222)
    }
    for (var i=0;i&lt;3;i++) {
        if global.furnace[#i,1]&gt;0 {
                draw_sprite(global.furnace[#i,0],0,view_xview[3]+345+i*65,view_yview[3]+124)
                draw_text_colour(view_xview[3]+345+46+i*65,view_yview[3]+124+46,global.furnace[#i,1],c_white,c_white,c_white,"",1); 
            }
        }
    for (var i=0;i&lt;2;i++) {
        if global.furnaceoutput[#i,1]&gt;0 {
            draw_sprite(global.furnaceoutput[#i,0],0,view_xview[3]+378+i*65,view_yview[3]+286)
            draw_text_colour(view_xview[3]+378+46+i*65,view_yview[3]+286+46,global.furnaceoutput[#i,1],c_white,c_white,c_white,"",1); 
         }
       }
     
     if global.selectx!=-1&amp;&amp;global.selecty!=-1 {
        if global.selection="inv" {
          if obj_crafter.select=true {

            draw_sprite_stretched(global.spriteselect,0,view_xview[3]+indenth-3+(global.selectx*spaceh),view_yview[3]+indentv+(global.selecty*spacev),32,32);
            
            draw_text_color(view_xview[3]+indenth-3+dif+(global.selectx*spaceh),view_yview[3]+indentv+dif+(global.selecty*spacev),global.amountselect,c_white,c_white,c_white,c_black,1);
            }           
            draw_sprite(spr_select_vertical,0,view_xview[3]+indenth-2+(global.selectx*spaceh),view_yview[3]+indentv-3+(global.selecty*spacev));
        }
        if global.selection="furnace" {
            if obj_crafter.select=true {
                draw_sprite(global.spriteselect,0,view_xview[3]+345+(global.selectx*65),view_yview[3]+124);
                draw_text_color(view_xview[3]+345+46+(global.selectx*65),view_yview[3]+124+46,global.amountselect,c_white,c_white,c_white,c_black,1);
            }
        draw_sprite(spr_select,0,view_xview[3]+341+(global.selectx*69),view_yview[3]+125);
        }
        if global.selection="output" {
            if obj_crafter.select=true {
                draw_sprite(global.spriteselect,0,view_xview[3]+378+(global.selectx*65),view_yview[3]+286)
                draw_text_colour(view_xview[3]+378+46+(global.selectx*65),view_yview[3]+286+43,global.amountselect,c_white,c_white,c_white,"",1); 
            } 
            draw_sprite(spr_select,0,view_xview[3]+378+(global.selectx*65),view_yview[3]+286);
    }
}
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Crafter inventory
if global.invui=true {
    draw_set_halign ( fa_right )
    draw_enable_alphablend(false);
    draw_sprite(spr_ui_inv,0,view_xview[3],view_yview[3]);
    draw_enable_alphablend(true);
    var spaceh,spacev,height,length,indentv,indenth,dif;
    indenth=33;
    indentv=104;
    spaceh=66;
    spacev=70;
    length=9;
    height=4;
    dif=44;
    for (var j=0;j&lt;4;j++) {
        for (var i=0;i&lt;9;i++) {
            if global.crafamount[#i,j]&gt;0 {
                draw_sprite(global.crafitem[#i,j],0,view_xview[3]+indenth+i*spaceh,view_yview[3]+indentv+j*spacev)
                draw_text_colour(view_xview[3]+indenth+dif+i*spaceh,view_yview[3]+indentv+dif-3+j*spacev,global.crafamount[#i,j],c_white,c_white,c_white,c_black,1); 
            }
        }
    }
    if global.selectx!=-1&amp;&amp;global.selecty!=-1 {
    if obj_crafter.select=true {
        draw_sprite(global.spriteselect,0,view_xview[3]+indenth-3+(global.selectx*spaceh),view_yview[3]+indentv+(global.selecty*spacev));
        draw_text_color(view_xview[3]+indenth-3+dif+(global.selectx*spaceh),view_yview[3]+indentv+dif+(global.selecty*spacev),global.amountselect,c_white,c_white,c_white,c_black,1);
        }
    draw_sprite(spr_select,0,view_xview[3]+indenth-3+(global.selectx*spaceh),view_yview[3]+indentv+(global.selecty*spacev))
    }
    
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
